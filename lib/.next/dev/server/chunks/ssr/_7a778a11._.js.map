{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/lib/supabase/client.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\n\nlet cached: SupabaseClient | null = null;\n\nexport function getSupabaseClient() {\n  if (cached) return cached;\n\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel and .env.local\"\n    );\n  }\n\n  cached = createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  });\n\n  return cached;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAgC;AAE7B,SAAS;IACd,IAAI,QAAQ,OAAO;IAEnB,MAAM;IACN,MAAM;IAEN;;IAMA,SAAS,IAAA,8LAAY,EAAC,aAAa,iBAAiB;QAClD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/app/families/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { getSupabaseClient } from \"@/lib/supabase/client\";\n\ntype Mode = \"signup\" | \"login\";\n\nexport default function FamiliesPage() {\n  const router = useRouter();\n  const supabase = useMemo(() => getSupabaseClient(), []);\n\n  const [mode, setMode] = useState<Mode>(\"signup\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState<string | null>(null);\n\n  const callbackUrl =\n    typeof window !== \"undefined\"\n      ? `${window.location.origin}/auth/callback`\n      : \"\";\n\n  async function signWithOAuth(provider: \"google\" | \"facebook\") {\n    setMsg(null);\n    setBusy(true);\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo: callbackUrl,\n        },\n      });\n      if (error) throw error;\n    } catch (e: any) {\n      setMsg(e?.message ?? \"Something went wrong. Please try again.\");\n      setBusy(false);\n    }\n  }\n\n  async function handleEmailAuth() {\n    setMsg(null);\n    setBusy(true);\n\n    try {\n      if (!email || !password) {\n        setMsg(\"Please enter your email and password.\");\n        setBusy(false);\n        return;\n      }\n\n      if (mode === \"signup\") {\n        const { data, error } = await supabase.auth.signUp({ email, password });\n        if (error) throw error;\n\n        if (data.session) {\n          router.push(\"/families/onboarding\");\n          return;\n        }\n\n        setMsg(\n          \"Account created. Please check your email to confirm your address, then return to log in.\"\n        );\n      } else {\n        const { data, error } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        });\n        if (error) throw error;\n\n        if (data.session) router.push(\"/families/onboarding\");\n      }\n    } catch (e: any) {\n      setMsg(e?.message ?? \"We couldn’t complete your request. Please try again.\");\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  return (\n    <main className=\"auth-split\">\n      <section className=\"auth-left\">\n        <div className=\"auth-left-inner\">\n          <p className=\"eyebrow\">\n            <i className=\"bi bi-stars me-2\" />\n            For shift-working families\n          </p>\n\n          <h1 className=\"auth-title\">\n            Find trusted, reciprocal childcare that fits{\" \"}\n            <span>real shift schedules.</span>\n          </h1>\n\n          <p className=\"auth-lead\">\n            Create your account, complete a short onboarding, then start swiping\n            through compatible families — with clear match reasons, not guesswork.\n          </p>\n\n          <ul className=\"auth-points\">\n            <li>\n              <i className=\"bi bi-shield-check\" /> Verified-first approach\n            </li>\n            <li>\n              <i className=\"bi bi-clock-history\" /> Built for nights, weekends, rotating shifts\n            </li>\n            <li>\n              <i className=\"bi bi-people\" /> Parents supporting parents — with agreements\n            </li>\n          </ul>\n        </div>\n      </section>\n\n      <section className=\"auth-right\">\n        <div className=\"auth-card\">\n          <div className=\"auth-card-head\">\n            <h2>{mode === \"signup\" ? \"Create your account\" : \"Welcome back\"}</h2>\n            <p className=\"muted\">\n              {mode === \"signup\"\n                ? \"Use email/password or continue with a trusted provider.\"\n                : \"Sign in to continue your matching flow.\"}\n            </p>\n          </div>\n\n          <div className=\"oauth-row\">\n            <button\n              type=\"button\"\n              className=\"oauth-btn\"\n              onClick={() => signWithOAuth(\"google\")}\n              disabled={busy}\n            >\n              <i className=\"bi bi-google\" />\n              Continue with Google\n            </button>\n\n            <button\n              type=\"button\"\n              className=\"oauth-btn\"\n              onClick={() => signWithOAuth(\"facebook\")}\n              disabled={busy}\n            >\n              <i className=\"bi bi-facebook\" />\n              Continue with Facebook\n            </button>\n          </div>\n\n          <div className=\"divider\">\n            <span>or</span>\n          </div>\n\n          <div className=\"form-field\">\n            <label>Email</label>\n            <input\n              className=\"ss-input\"\n              type=\"email\"\n              autoComplete=\"email\"\n              placeholder=\"you@example.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              disabled={busy}\n            />\n          </div>\n\n          <div className=\"form-field\">\n            <label>Password</label>\n            <input\n              className=\"ss-input\"\n              type=\"password\"\n              autoComplete={mode === \"signup\" ? \"new-password\" : \"current-password\"}\n              placeholder=\"••••••••\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              disabled={busy}\n            />\n          </div>\n\n          {msg && <div className=\"auth-msg\">{msg}</div>}\n\n          <button\n            type=\"button\"\n            className=\"ss-btn w-100 auth-primary\"\n            onClick={handleEmailAuth}\n            disabled={busy}\n          >\n            {busy\n              ? \"Please wait…\"\n              : mode === \"signup\"\n              ? \"Create account\"\n              : \"Sign in\"}\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"ss-btn-outline w-100 auth-secondary\"\n            onClick={() => setMode(mode === \"signup\" ? \"login\" : \"signup\")}\n            disabled={busy}\n          >\n            {mode === \"signup\"\n              ? \"I already have an account\"\n              : \"Create a new account\"}\n          </button>\n\n          <p className=\"auth-footnote\">\n            By continuing, you agree to ShiftSitter’s Terms & Privacy Policy.\n          </p>\n        </div>\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,gNAAO,EAAC,IAAM,IAAA,8IAAiB,KAAI,EAAE;IAEtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAO;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAgB;IAE9C,MAAM,cACJ,sCACI,0BACA;IAEN,eAAe,cAAc,QAA+B;QAC1D,OAAO;QACP,QAAQ;QACR,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC;gBACpD;gBACA,SAAS;oBACP,YAAY;gBACd;YACF;YACA,IAAI,OAAO,MAAM;QACnB,EAAE,OAAO,GAAQ;YACf,OAAO,GAAG,WAAW;YACrB,QAAQ;QACV;IACF;IAEA,eAAe;QACb,OAAO;QACP,QAAQ;QAER,IAAI;YACF,IAAI,CAAC,SAAS,CAAC,UAAU;gBACvB,OAAO;gBACP,QAAQ;gBACR;YACF;YAEA,IAAI,SAAS,UAAU;gBACrB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;oBAAE;oBAAO;gBAAS;gBACrE,IAAI,OAAO,MAAM;gBAEjB,IAAI,KAAK,OAAO,EAAE;oBAChB,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,OACE;YAEJ,OAAO;gBACL,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;oBAC7D;oBACA;gBACF;gBACA,IAAI,OAAO,MAAM;gBAEjB,IAAI,KAAK,OAAO,EAAE,OAAO,IAAI,CAAC;YAChC;QACF,EAAE,OAAO,GAAQ;YACf,OAAO,GAAG,WAAW;QACvB,SAAU;YACR,QAAQ;QACV;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;8CACX,8OAAC;oCAAE,WAAU;;;;;;gCAAqB;;;;;;;sCAIpC,8OAAC;4BAAG,WAAU;;gCAAa;gCACoB;8CAC7C,8OAAC;8CAAK;;;;;;;;;;;;sCAGR,8OAAC;4BAAE,WAAU;sCAAY;;;;;;sCAKzB,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;;;;;;wCAAuB;;;;;;;8CAEtC,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;;;;;;wCAAwB;;;;;;;8CAEvC,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;;0BAMtC,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAI,SAAS,WAAW,wBAAwB;;;;;;8CACjD,8OAAC;oCAAE,WAAU;8CACV,SAAS,WACN,4DACA;;;;;;;;;;;;sCAIR,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,cAAc;oCAC7B,UAAU;;sDAEV,8OAAC;4CAAE,WAAU;;;;;;wCAAiB;;;;;;;8CAIhC,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,cAAc;oCAC7B,UAAU;;sDAEV,8OAAC;4CAAE,WAAU;;;;;;wCAAmB;;;;;;;;;;;;;sCAKpC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;0CAAK;;;;;;;;;;;sCAGR,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAM;;;;;;8CACP,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,cAAa;oCACb,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,UAAU;;;;;;;;;;;;sCAId,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAM;;;;;;8CACP,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,cAAc,SAAS,WAAW,iBAAiB;oCACnD,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,UAAU;;;;;;;;;;;;wBAIb,qBAAO,8OAAC;4BAAI,WAAU;sCAAY;;;;;;sCAEnC,8OAAC;4BACC,MAAK;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU;sCAET,OACG,iBACA,SAAS,WACT,mBACA;;;;;;sCAGN,8OAAC;4BACC,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,QAAQ,SAAS,WAAW,UAAU;4BACrD,UAAU;sCAET,SAAS,WACN,8BACA;;;;;;sCAGN,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAOvC"}}]
}