{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-app-web/lib/firebase/client.ts"],"sourcesContent":["// lib/firebase/client.ts\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY!,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN!,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID!,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET!,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID!,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID!,\n};\n\nexport const app = getApps().length ? getApp() : initializeApp(firebaseConfig);\n\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;;;;;AACzB;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEO,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,0KAAM,MAAK,IAAA,iLAAa,EAAC;AAExD,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,kMAAU,EAAC"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-app-web/app/families/onboarding/questions/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n} from \"firebase/firestore\";\r\n\r\nimport { auth, db } from \"@/lib/firebase/client\";\r\n\r\ntype QuestionType = \"single\" | \"multi\" | \"text\" | \"number\" | \"range\";\r\n\r\ntype Question = {\r\n  id: string;\r\n  step: number;\r\n  title: string;\r\n  subtitle?: string;\r\n  type: QuestionType;\r\n  required?: boolean;\r\n  options?: { value: string; label: string; icon?: string }[];\r\n  min?: number;\r\n  max?: number;\r\n  placeholder?: string;\r\n};\r\n\r\ntype Answers = Record<string, any>;\r\n\r\n/** ============================\r\n *  QUESTIONS (tus mismas)\r\n *  ============================ */\r\nconst QUESTIONS: Question[] = [\r\n  {\r\n    id: \"need_days\",\r\n    step: 1,\r\n    title: \"Let’s find out what you need\",\r\n    subtitle: \"Which days do you typically need childcare?\",\r\n    type: \"multi\",\r\n    required: true,\r\n    options: [\r\n      { value: \"mon\", label: \"Mon\", icon: \"bi-calendar2\" },\r\n      { value: \"tue\", label: \"Tue\", icon: \"bi-calendar2\" },\r\n      { value: \"wed\", label: \"Wed\", icon: \"bi-calendar2\" },\r\n      { value: \"thu\", label: \"Thu\", icon: \"bi-calendar2\" },\r\n      { value: \"fri\", label: \"Fri\", icon: \"bi-calendar2\" },\r\n      { value: \"sat\", label: \"Sat\", icon: \"bi-calendar2\" },\r\n      { value: \"sun\", label: \"Sun\", icon: \"bi-calendar2\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"need_shifts\",\r\n    step: 1,\r\n    title: \"Which shift(s) do you need help with?\",\r\n    subtitle: \"Select all that apply. This is a match core filter.\",\r\n    type: \"multi\",\r\n    required: true,\r\n    options: [\r\n      { value: \"early\", label: \"Early (4–8am)\", icon: \"bi-alarm\" },\r\n      { value: \"day\", label: \"Day (8am–4pm)\", icon: \"bi-brightness-high\" },\r\n      { value: \"evening\", label: \"Evening (4–10pm)\", icon: \"bi-sunset\" },\r\n      { value: \"night\", label: \"Night (10pm–7am)\", icon: \"bi-moon-stars\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"need_duration\",\r\n    step: 2,\r\n    title: \"How many hours do you typically need on those days/blocks?\",\r\n    subtitle: \"This influences reciprocity balance (not a hard filter).\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"1_4\", label: \"1–4 hours\", icon: \"bi-hourglass-split\" },\r\n      { value: \"4_8\", label: \"4–8 hours\", icon: \"bi-hourglass\" },\r\n      { value: \"8_12\", label: \"8–12 hours\", icon: \"bi-clock\" },\r\n      { value: \"full_12\", label: \"Full shift (12 hours)\", icon: \"bi-clock-history\" },\r\n      { value: \"12_plus\", label: \"More than 12 hours\", icon: \"bi-plus-circle\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"need_setting\",\r\n    step: 2,\r\n    title: \"Where do you prefer care to happen?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"my_home\", label: \"My home\", icon: \"bi-house-heart\" },\r\n      { value: \"their_home\", label: \"Their home\", icon: \"bi-house\" },\r\n      { value: \"either\", label: \"Either is fine\", icon: \"bi-arrow-left-right\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"need_children_count\",\r\n    step: 3,\r\n    title: \"Your children\",\r\n    subtitle: \"How many children need care?\",\r\n    type: \"number\",\r\n    required: true,\r\n    min: 1,\r\n    max: 10,\r\n  },\r\n  {\r\n    id: \"need_children_ages\",\r\n    step: 3,\r\n    title: \"Age of each child\",\r\n    subtitle: \"Comma-separated is fine.\",\r\n    type: \"text\",\r\n    required: true,\r\n    placeholder: \"e.g. 2, 4, 7\",\r\n  },\r\n  {\r\n    id: \"need_special_considerations_yesno\",\r\n    step: 3,\r\n    title: \"Any special considerations or specific needs?\",\r\n    subtitle: \"Allergies, sensory needs, medical notes, routines, etc.\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"no\", label: \"No\", icon: \"bi-x-circle\" },\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-check2-circle\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"need_special_considerations_text\",\r\n    step: 3,\r\n    title: \"Please describe the considerations (short)\",\r\n    subtitle: \"Only visible if you selected “Yes”.\",\r\n    type: \"text\",\r\n    required: false,\r\n    placeholder: \"Optional details…\",\r\n  },\r\n\r\n  {\r\n    id: \"home_smokefree\",\r\n    step: 4,\r\n    title: \"Safety & home environment\",\r\n    subtitle: \"Is your home smoke-free?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-shield-check\" },\r\n      { value: \"no\", label: \"No\", icon: \"bi-shield-x\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"require_smokefree\",\r\n    step: 4,\r\n    title: \"Do you require your match’s home to be smoke-free?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-check2-circle\" },\r\n      { value: \"no\", label: \"No\", icon: \"bi-dash-circle\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"pets_in_home\",\r\n    step: 4,\r\n    title: \"Pets in your home?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"none\", label: \"None\", icon: \"bi-ban\" },\r\n      { value: \"small\", label: \"Small\", icon: \"bi-emoji-smile\" },\r\n      { value: \"big\", label: \"Big\", icon: \"bi-emoji-sunglasses\" },\r\n      { value: \"multiple\", label: \"Multiple\", icon: \"bi-stars\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"ok_with_pets\",\r\n    step: 4,\r\n    title: \"Are you okay with your children being around pets?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-check2-circle\" },\r\n      { value: \"no\", label: \"No\", icon: \"bi-x-circle\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"home_zip\",\r\n    step: 5,\r\n    title: \"Transport & distance\",\r\n    subtitle: \"Home ZIP code\",\r\n    type: \"text\",\r\n    required: true,\r\n    placeholder: \"e.g. 21201\",\r\n  },\r\n  {\r\n    id: \"work_zip\",\r\n    step: 5,\r\n    title: \"Work ZIP code\",\r\n    subtitle: \"Used only to support handoff preferences.\",\r\n    type: \"text\",\r\n    required: true,\r\n    placeholder: \"e.g. 21202\",\r\n  },\r\n  {\r\n    id: \"handoff_location\",\r\n    step: 5,\r\n    title: \"Where should the handoff normally happen?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"my_home\", label: \"My home\", icon: \"bi-house\" },\r\n      { value: \"their_home\", label: \"Their home\", icon: \"bi-house-heart\" },\r\n      { value: \"my_work\", label: \"My workplace\", icon: \"bi-building\" },\r\n      { value: \"their_work\", label: \"Their workplace\", icon: \"bi-briefcase\" },\r\n      { value: \"flexible\", label: \"Flexible\", icon: \"bi-arrow-repeat\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"max_travel\",\r\n    step: 5,\r\n    title: \"How far are you willing to travel for a match?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"5\", label: \"5 minutes\", icon: \"bi-geo\" },\r\n      { value: \"10\", label: \"10 minutes\", icon: \"bi-geo\" },\r\n      { value: \"15\", label: \"15 minutes\", icon: \"bi-geo\" },\r\n      { value: \"20\", label: \"20 minutes\", icon: \"bi-geo\" },\r\n      { value: \"30\", label: \"30 minutes\", icon: \"bi-geo\" },\r\n      { value: \"30_plus\", label: \"More than 30 minutes\", icon: \"bi-geo-alt\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"extras_need\",\r\n    step: 6,\r\n    title: \"Optional care extras\",\r\n    subtitle: \"Not hard filters — they contribute to compatibility scoring.\",\r\n    type: \"multi\",\r\n    required: false,\r\n    options: [\r\n      { value: \"light_cleaning\", label: \"Light cleaning\", icon: \"bi-sparkles\" },\r\n      { value: \"laundry\", label: \"Laundry\", icon: \"bi-basket\" },\r\n      { value: \"meal_prep\", label: \"Meal prep\", icon: \"bi-egg-fried\" },\r\n      { value: \"groceries\", label: \"Groceries / Errands\", icon: \"bi-cart\" },\r\n      { value: \"transportation\", label: \"Transportation\", icon: \"bi-car-front\" },\r\n      { value: \"pet_help\", label: \"Pet help\", icon: \"bi-heart\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"give_days\",\r\n    step: 7,\r\n    title: \"Now let’s find out what you can offer in return\",\r\n    subtitle: \"Which days can you provide care?\",\r\n    type: \"multi\",\r\n    required: true,\r\n    options: [\r\n      { value: \"mon\", label: \"Mon\", icon: \"bi-calendar2\" },\r\n      { value: \"tue\", label: \"Tue\", icon: \"bi-calendar2\" },\r\n      { value: \"wed\", label: \"Wed\", icon: \"bi-calendar2\" },\r\n      { value: \"thu\", label: \"Thu\", icon: \"bi-calendar2\" },\r\n      { value: \"fri\", label: \"Fri\", icon: \"bi-calendar2\" },\r\n      { value: \"sat\", label: \"Sat\", icon: \"bi-calendar2\" },\r\n      { value: \"sun\", label: \"Sun\", icon: \"bi-calendar2\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"give_shifts\",\r\n    step: 7,\r\n    title: \"Which shift(s) can you cover?\",\r\n    type: \"multi\",\r\n    required: true,\r\n    options: [\r\n      { value: \"early\", label: \"Early (4–8am)\", icon: \"bi-alarm\" },\r\n      { value: \"day\", label: \"Day (8am–4pm)\", icon: \"bi-brightness-high\" },\r\n      { value: \"evening\", label: \"Evening (4–10pm)\", icon: \"bi-sunset\" },\r\n      { value: \"night\", label: \"Night (10pm–7am)\", icon: \"bi-moon-stars\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"give_hours_month\",\r\n    step: 8,\r\n    title: \"How many hours can you realistically give per month?\",\r\n    subtitle: \"This is a reciprocity balance dimension.\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"0_4\", label: \"0–4\", icon: \"bi-hourglass\" },\r\n      { value: \"4_8\", label: \"4–8\", icon: \"bi-hourglass-split\" },\r\n      { value: \"8_12\", label: \"8–12\", icon: \"bi-clock\" },\r\n      { value: \"12_plus\", label: \"12+\", icon: \"bi-plus-circle\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"give_setting\",\r\n    step: 8,\r\n    title: \"Where are you comfortable providing care?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"my_home\", label: \"My home\", icon: \"bi-house-heart\" },\r\n      { value: \"their_home\", label: \"Their home\", icon: \"bi-house\" },\r\n      { value: \"either\", label: \"Either\", icon: \"bi-arrow-left-right\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"give_total_children_capacity\",\r\n    step: 9,\r\n    title: \"Your capacity\",\r\n    subtitle: \"How many total children (including yours) are you comfortable supervising?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"1\", label: \"1\", icon: \"bi-1-circle\" },\r\n      { value: \"2\", label: \"2\", icon: \"bi-2-circle\" },\r\n      { value: \"3\", label: \"3\", icon: \"bi-3-circle\" },\r\n      { value: \"4_plus\", label: \"4+\", icon: \"bi-plus-circle\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"give_age_ranges\",\r\n    step: 9,\r\n    title: \"What age ranges are you comfortable caring for?\",\r\n    type: \"multi\",\r\n    required: true,\r\n    options: [\r\n      { value: \"0_11m\", label: \"0–11 months\", icon: \"bi-heart\" },\r\n      { value: \"1_3\", label: \"1–3 years\", icon: \"bi-emoji-smile\" },\r\n      { value: \"4_5\", label: \"4–5 years\", icon: \"bi-balloon\" },\r\n      { value: \"6_11\", label: \"6–11 years\", icon: \"bi-controller\" },\r\n      { value: \"12_plus\", label: \"12+\", icon: \"bi-lightning\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"give_special_needs_ok\",\r\n    step: 10,\r\n    title: \"Special requirements\",\r\n    subtitle: \"Are you comfortable caring for children with special needs?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-check2-circle\" },\r\n      { value: \"no\", label: \"No\", icon: \"bi-x-circle\" },\r\n    ],\r\n  },\r\n  {\r\n    id: \"give_vehicle\",\r\n    step: 10,\r\n    title: \"Do you have your own vehicle for pickups/drop-offs?\",\r\n    type: \"single\",\r\n    required: true,\r\n    options: [\r\n      { value: \"yes\", label: \"Yes\", icon: \"bi-car-front\" },\r\n      { value: \"no\", label: \"No\", icon: \"bi-ban\" },\r\n    ],\r\n  },\r\n\r\n  {\r\n    id: \"extras_offer\",\r\n    step: 11,\r\n    title: \"Optional extras you’re willing to offer\",\r\n    subtitle: \"Not hard filters — they contribute to compatibility scoring.\",\r\n    type: \"multi\",\r\n    required: false,\r\n    options: [\r\n      { value: \"light_cleaning\", label: \"Light cleaning\", icon: \"bi-sparkles\" },\r\n      { value: \"laundry\", label: \"Laundry\", icon: \"bi-basket\" },\r\n      { value: \"meal_prep\", label: \"Meal prep\", icon: \"bi-egg-fried\" },\r\n      { value: \"groceries\", label: \"Groceries / Errands\", icon: \"bi-cart\" },\r\n      { value: \"transportation\", label: \"Transportation\", icon: \"bi-car-front\" },\r\n      { value: \"pet_help\", label: \"Pet help\", icon: \"bi-heart\" },\r\n    ],\r\n  },\r\n];\r\n\r\n/** ================\r\n * Firestore shape\r\n * profiles/{uid}\r\n * {\r\n *   onboarding: { answers: {...}, step: number, lastSavedAt: timestamp },\r\n *   onboardingCompleted: boolean,\r\n *   updatedAt: timestamp\r\n * }\r\n * ================= */\r\n\r\nexport default function QuestionsPage() {\r\n  const router = useRouter();\r\n\r\n  const [uid, setUid] = useState<string | null>(null);\r\n\r\n  const [answers, setAnswers] = useState<Answers>({});\r\n  const [step, setStep] = useState<number>(1);\r\n\r\n  const [ready, setReady] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [saveError, setSaveError] = useState<string | null>(null);\r\n\r\n  const steps = useMemo(() => {\r\n    const uniq = Array.from(new Set(QUESTIONS.map((q) => q.step))).sort((a, b) => a - b);\r\n    return uniq.length ? uniq : [1];\r\n  }, []);\r\n\r\n  const lastStep = steps[steps.length - 1];\r\n\r\n  const stepQuestions = useMemo(\r\n    () => QUESTIONS.filter((q) => q.step === step),\r\n    [step]\r\n  );\r\n\r\n  const shouldShowSpecialText = answers[\"need_special_considerations_yesno\"] === \"yes\";\r\n\r\n  // Auth boot\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, async (user) => {\r\n      setSaveError(null);\r\n\r\n      if (!user) {\r\n        setUid(null);\r\n        router.replace(\"/families\");\r\n        return;\r\n      }\r\n\r\n      setUid(user.uid);\r\n\r\n      // Load onboarding from profiles/{uid}\r\n      try {\r\n        const ref = doc(db, \"profiles\", user.uid);\r\n        const snap = await getDoc(ref);\r\n\r\n        if (snap.exists()) {\r\n          const data = snap.data() as any;\r\n          const onboarding = data?.onboarding;\r\n\r\n          if (onboarding?.answers && typeof onboarding.answers === \"object\") {\r\n            setAnswers(onboarding.answers as Answers);\r\n          }\r\n          if (typeof onboarding?.step === \"number\" && onboarding.step >= steps[0] && onboarding.step <= lastStep) {\r\n            setStep(onboarding.step);\r\n          } else {\r\n            setStep(steps[0]);\r\n          }\r\n        } else {\r\n          // first time\r\n          setStep(steps[0]);\r\n        }\r\n\r\n        setReady(true);\r\n      } catch (e: any) {\r\n        setSaveError(e?.message ?? \"Could not load your onboarding data.\");\r\n        setReady(true);\r\n      }\r\n    });\r\n\r\n    return () => unsub();\r\n  }, [router, steps, lastStep]);\r\n\r\n  const setValue = (id: string, value: any) => {\r\n    setAnswers((prev) => ({ ...prev, [id]: value }));\r\n  };\r\n\r\n  const missingRequiredForStep = (): string[] => {\r\n    const qs = stepQuestions.filter((q) => {\r\n      if (q.id === \"need_special_considerations_text\") return shouldShowSpecialText;\r\n      return true;\r\n    });\r\n\r\n    const missing: string[] = [];\r\n\r\n    for (const q of qs) {\r\n      if (!q.required) continue;\r\n\r\n      const v = answers[q.id];\r\n\r\n      if (q.type === \"multi\") {\r\n        if (!Array.isArray(v) || v.length === 0) missing.push(q.id);\r\n        continue;\r\n      }\r\n\r\n      if (q.type === \"text\") {\r\n        if (typeof v !== \"string\" || v.trim().length === 0) missing.push(q.id);\r\n        continue;\r\n      }\r\n\r\n      if (q.type === \"number\") {\r\n        if (typeof v !== \"number\" || Number.isNaN(v)) missing.push(q.id);\r\n        continue;\r\n      }\r\n\r\n      if (v === undefined || v === null || v === \"\") missing.push(q.id);\r\n    }\r\n\r\n    return missing;\r\n  };\r\n\r\n  const persist = async (nextStep: number, completed?: boolean): Promise<boolean> => {\r\n    if (!uid) return false;\r\n\r\n    setSaving(true);\r\n    setSaveError(null);\r\n\r\n    try {\r\n      const ref = doc(db, \"profiles\", uid);\r\n\r\n      const payload: any = {\r\n        onboarding: {\r\n          answers,\r\n          step: nextStep,\r\n          lastSavedAt: serverTimestamp(),\r\n        },\r\n        updatedAt: serverTimestamp(),\r\n      };\r\n\r\n      if (typeof completed === \"boolean\") {\r\n        payload.onboardingCompleted = completed;\r\n      }\r\n\r\n      await setDoc(ref, payload, { merge: true });\r\n\r\n      setSaving(false);\r\n      return true;\r\n    } catch (e: any) {\r\n      setSaving(false);\r\n      setSaveError(e?.message ?? \"Could not save. Please try again.\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const nextOrFinish = async () => {\r\n    const missing = missingRequiredForStep();\r\n    if (missing.length) {\r\n      setSaveError(\"Please complete the required fields before continuing.\");\r\n      return;\r\n    }\r\n\r\n    // middle steps: save + advance\r\n    if (step < lastStep) {\r\n      const nextStep = Math.min(step + 1, lastStep);\r\n      const ok = await persist(nextStep);\r\n      if (!ok) return;\r\n\r\n      setStep(nextStep);\r\n      return;\r\n    }\r\n\r\n    // last step: final save + completed\r\n    const ok = await persist(lastStep, true);\r\n    if (ok) router.push(\"/families/match\");\r\n  };\r\n\r\n  const prev = async () => {\r\n    setSaveError(null);\r\n    const prevStep = Math.max(step - 1, steps[0]);\r\n\r\n    // Save step position (no need to block if it fails, but better to try)\r\n    await persist(prevStep);\r\n\r\n    setStep(prevStep);\r\n  };\r\n\r\n  if (!ready) {\r\n    return (\r\n      <main className=\"auth-shell\">\r\n        <div className=\"onb-card\">\r\n          <h1 className=\"match-title\">Loading…</h1>\r\n          <p className=\"muted\">Preparing onboarding.</p>\r\n          <div className=\"auth-loader\" />\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const stepIndex = steps.indexOf(step);\r\n  const progressPct = Math.round(((stepIndex + 1) / steps.length) * 100);\r\n\r\n  return (\r\n    <main className=\"onb-shell\">\r\n      <div className=\"onb-card\">\r\n        <div className=\"q-head\">\r\n          <div className=\"q-head-top\">\r\n            <div>\r\n              <span className=\"onb-badge\">\r\n                <i className=\"bi bi-stars\" />\r\n                Needs + Values onboarding\r\n              </span>\r\n              <h1 style={{ marginTop: \".9rem\" }}>\r\n                Tell us what “covered” looks like for your family.\r\n              </h1>\r\n              <p className=\"muted\" style={{ marginTop: \".35rem\" }}>\r\n                Step {stepIndex + 1} of {steps.length}\r\n              </p>\r\n            </div>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"q-ghost\"\r\n              onClick={() => router.push(\"/logout\")}\r\n              disabled={saving}\r\n              title=\"Log out\"\r\n            >\r\n              Log out\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"q-progress\" aria-label=\"Progress\">\r\n            <div className=\"q-progress-bar\" style={{ width: `${progressPct}%` }} />\r\n          </div>\r\n\r\n          {saveError ? <div className=\"q-error\">{saveError}</div> : null}\r\n        </div>\r\n\r\n        <div className=\"q-stack\">\r\n          {stepQuestions\r\n            .filter((q) => {\r\n              if (q.id === \"need_special_considerations_text\") return shouldShowSpecialText;\r\n              return true;\r\n            })\r\n            .map((q) => (\r\n              <div className=\"q-card\" key={q.id}>\r\n                <div className=\"q-card-title\">\r\n                  <div>\r\n                    <div className=\"q-title\">\r\n                      {q.title}{\" \"}\r\n                      {q.required ? <span style={{ color: \"#991b1b\" }}>*</span> : null}\r\n                    </div>\r\n                    {q.subtitle ? <div className=\"q-sub muted\">{q.subtitle}</div> : null}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* SINGLE */}\r\n                {q.type === \"single\" && q.options?.length ? (\r\n                  <div className=\"q-options\">\r\n                    {q.options.map((opt) => {\r\n                      const active = answers[q.id] === opt.value;\r\n                      return (\r\n                        <button\r\n                          key={opt.value}\r\n                          type=\"button\"\r\n                          className={`q-opt ${active ? \"is-active\" : \"\"}`}\r\n                          onClick={() => setValue(q.id, opt.value)}\r\n                          disabled={saving}\r\n                        >\r\n                          {opt.icon ? <i className={`bi ${opt.icon}`} /> : null}\r\n                          <span>{opt.label}</span>\r\n                          {active ? <i className=\"bi bi-check2-circle q-check\" /> : null}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : null}\r\n\r\n                {/* MULTI */}\r\n                {q.type === \"multi\" && q.options?.length ? (\r\n                  <div className=\"q-options\">\r\n                    {q.options.map((opt) => {\r\n                      const current: string[] = Array.isArray(answers[q.id]) ? answers[q.id] : [];\r\n                      const active = current.includes(opt.value);\r\n\r\n                      return (\r\n                        <button\r\n                          key={opt.value}\r\n                          type=\"button\"\r\n                          className={`q-opt ${active ? \"is-active\" : \"\"}`}\r\n                          onClick={() => {\r\n                            const nextArr = active\r\n                              ? current.filter((v) => v !== opt.value)\r\n                              : [...current, opt.value];\r\n                            setValue(q.id, nextArr);\r\n                          }}\r\n                          disabled={saving}\r\n                        >\r\n                          {opt.icon ? <i className={`bi ${opt.icon}`} /> : null}\r\n                          <span>{opt.label}</span>\r\n                          {active ? <i className=\"bi bi-check2-circle q-check\" /> : null}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : null}\r\n\r\n                {/* TEXT */}\r\n                {q.type === \"text\" ? (\r\n                  <input\r\n                    className=\"ss-input\"\r\n                    value={answers[q.id] ?? \"\"}\r\n                    onChange={(e) => setValue(q.id, e.target.value)}\r\n                    placeholder={q.placeholder ?? \"\"}\r\n                    disabled={saving}\r\n                  />\r\n                ) : null}\r\n\r\n                {/* NUMBER */}\r\n                {q.type === \"number\" ? (\r\n                  <input\r\n                    className=\"ss-input\"\r\n                    style={{ maxWidth: 220 }}\r\n                    type=\"number\"\r\n                    value={answers[q.id] ?? \"\"}\r\n                    min={q.min}\r\n                    max={q.max}\r\n                    onChange={(e) => setValue(q.id, e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n                    disabled={saving}\r\n                  />\r\n                ) : null}\r\n              </div>\r\n            ))}\r\n        </div>\r\n\r\n        <div className=\"q-actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"match-btn ghost\"\r\n            onClick={prev}\r\n            disabled={step === steps[0] || saving}\r\n          >\r\n            <i className=\"bi bi-arrow-left\" />\r\n            Back\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"match-btn primary\"\r\n            onClick={nextOrFinish}\r\n            disabled={saving}\r\n          >\r\n            {saving ? (\r\n              <>\r\n                <i className=\"bi bi-cloud-arrow-up\" />\r\n                Saving…\r\n              </>\r\n            ) : step === lastStep ? (\r\n              <>\r\n                Continue to matching <i className=\"bi bi-arrow-right\" />\r\n              </>\r\n            ) : (\r\n              <>\r\n                Continue <i className=\"bi bi-arrow-right\" />\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}