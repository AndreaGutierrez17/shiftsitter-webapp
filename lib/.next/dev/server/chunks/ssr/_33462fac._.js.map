{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/lib/supabase/client.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\n\nlet cached: SupabaseClient | null = null;\n\nexport function getSupabaseClient() {\n  if (cached) return cached;\n\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel and .env.local\"\n    );\n  }\n\n  cached = createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  });\n\n  return cached;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAgC;AAE7B,SAAS;IACd,IAAI,QAAQ,OAAO;IAEnB,MAAM;IACN,MAAM;IAEN;;IAMA,SAAS,IAAA,8LAAY,EAAC,aAAa,iBAAiB;QAClD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getSupabaseClient } from \"@/lib/supabase/client\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => getSupabaseClient(), []);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [oauthLoading, setOauthLoading] = useState<null | \"google\" | \"facebook\">(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // ✅ If already logged in -> go to /families\r\n  useEffect(() => {\r\n    const boot = async () => {\r\n      const { data } = await supabase.auth.getSession();\r\n      if (data.session) router.replace(\"/families\");\r\n    };\r\n    boot();\r\n  }, [router, supabase]);\r\n\r\n  const signInPassword = async () => {\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    const { error } = await supabase.auth.signInWithPassword({\r\n      email: email.trim(),\r\n      password,\r\n    });\r\n\r\n    setLoading(false);\r\n\r\n    if (error) {\r\n      setError(error.message);\r\n      return;\r\n    }\r\n\r\n    router.replace(\"/families\");\r\n  };\r\n\r\n  const signInOAuth = async (provider: \"google\" | \"facebook\") => {\r\n    setError(null);\r\n    setOauthLoading(provider);\r\n\r\n    // IMPORTANT: this must be allowed in Supabase Auth redirect URLs\r\n    const redirectTo =\r\n      typeof window !== \"undefined\" ? `${window.location.origin}/auth/callback` : undefined;\r\n\r\n    const { error } = await supabase.auth.signInWithOAuth({\r\n      provider,\r\n      options: { redirectTo },\r\n    });\r\n\r\n    setOauthLoading(null);\r\n\r\n    if (error) setError(error.message);\r\n    // If no error, Supabase redirects.\r\n  };\r\n\r\n  return (\r\n    <main className=\"wrap\">\r\n      <section className=\"card\">\r\n        <h1 className=\"title\">Log in</h1>\r\n        <p className=\"subtitle\">Access your ShiftSitter account</p>\r\n\r\n        <div className=\"oauth\">\r\n          <button\r\n            className=\"oauthBtn\"\r\n            type=\"button\"\r\n            onClick={() => signInOAuth(\"google\")}\r\n            disabled={!!oauthLoading || loading}\r\n          >\r\n            <span className=\"oauthIcon\" aria-hidden>G</span>\r\n            {oauthLoading === \"google\" ? \"Connecting…\" : \"Continue with Google\"}\r\n          </button>\r\n\r\n          <button\r\n            className=\"oauthBtn\"\r\n            type=\"button\"\r\n            onClick={() => signInOAuth(\"facebook\")}\r\n            disabled={!!oauthLoading || loading}\r\n          >\r\n            <span className=\"oauthIcon\" aria-hidden>f</span>\r\n            {oauthLoading === \"facebook\" ? \"Connecting…\" : \"Continue with Facebook\"}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"divider\">\r\n          <span />\r\n          <em>or</em>\r\n          <span />\r\n        </div>\r\n\r\n        <label className=\"label\">\r\n          Email\r\n          <input\r\n            className=\"input\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"you@example.com\"\r\n            autoComplete=\"email\"\r\n            inputMode=\"email\"\r\n          />\r\n        </label>\r\n\r\n        <label className=\"label\">\r\n          Password\r\n          <input\r\n            className=\"input\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"••••••••\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n        </label>\r\n\r\n        {error ? <div className=\"error\">{error}</div> : null}\r\n\r\n        <button className=\"primary\" type=\"button\" onClick={signInPassword} disabled={loading}>\r\n          {loading ? \"Logging in…\" : \"Log in\"}\r\n        </button>\r\n\r\n        <button\r\n          className=\"secondary\"\r\n          type=\"button\"\r\n          onClick={() => router.push(\"/signup\")}\r\n          disabled={loading || !!oauthLoading}\r\n        >\r\n          Create account\r\n        </button>\r\n\r\n        <p className=\"fineprint\">\r\n          By continuing, you agree to our <a href=\"#\" onClick={(e) => e.preventDefault()}>Terms</a> and{\" \"}\r\n          <a href=\"#\" onClick={(e) => e.preventDefault()}>Privacy Policy</a>.\r\n        </p>\r\n      </section>\r\n\r\n      <style jsx>{`\r\n        .wrap {\r\n          min-height: 100vh;\r\n          display: grid;\r\n          place-items: center;\r\n          padding: 28px 16px;\r\n          background: radial-gradient(1200px 600px at 20% 0%, rgba(31, 182, 170, 0.14), transparent 55%),\r\n            radial-gradient(900px 500px at 80% 10%, rgba(20, 61, 106, 0.10), transparent 55%),\r\n            #fbf6ef;\r\n        }\r\n\r\n        .card {\r\n          width: 100%;\r\n          max-width: 420px;\r\n          background: #fff;\r\n          border: 1px solid rgba(0, 0, 0, 0.08);\r\n          border-radius: 26px;\r\n          padding: 22px;\r\n          box-shadow: 0 18px 50px rgba(0, 0, 0, 0.07);\r\n        }\r\n\r\n        .title {\r\n          margin: 0;\r\n          font-size: 40px;\r\n          line-height: 1.05;\r\n          letter-spacing: -0.02em;\r\n          color: #1d2b3a;\r\n          font-weight: 900;\r\n        }\r\n\r\n        .subtitle {\r\n          margin: 10px 0 16px;\r\n          color: rgba(29, 43, 58, 0.68);\r\n          font-weight: 700;\r\n        }\r\n\r\n        .oauth {\r\n          display: grid;\r\n          gap: 12px;\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .oauthBtn {\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 10px;\r\n          padding: 14px 14px;\r\n          border-radius: 16px;\r\n          border: 1px solid rgba(0, 0, 0, 0.10);\r\n          background: #fff;\r\n          cursor: pointer;\r\n          font-weight: 900;\r\n          color: #1d2b3a;\r\n        }\r\n\r\n        .oauthBtn:disabled {\r\n          opacity: 0.65;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .oauthIcon {\r\n          width: 28px;\r\n          height: 28px;\r\n          border-radius: 10px;\r\n          display: grid;\r\n          place-items: center;\r\n          font-weight: 1000;\r\n          background: rgba(0, 0, 0, 0.06);\r\n        }\r\n\r\n        .divider {\r\n          display: grid;\r\n          grid-template-columns: 1fr auto 1fr;\r\n          align-items: center;\r\n          gap: 12px;\r\n          margin: 16px 0;\r\n          color: rgba(29, 43, 58, 0.55);\r\n          font-weight: 900;\r\n          letter-spacing: 0.02em;\r\n        }\r\n        .divider span {\r\n          height: 1px;\r\n          background: rgba(0, 0, 0, 0.10);\r\n        }\r\n        .divider em {\r\n          font-style: normal;\r\n        }\r\n\r\n        .label {\r\n          display: grid;\r\n          gap: 8px;\r\n          font-weight: 900;\r\n          color: #1d2b3a;\r\n          margin-bottom: 12px;\r\n        }\r\n\r\n        .input {\r\n          width: 100%;\r\n          padding: 14px 14px;\r\n          border-radius: 16px;\r\n          border: 1px solid rgba(0, 0, 0, 0.12);\r\n          outline: none;\r\n          font-weight: 800;\r\n          color: #1d2b3a;\r\n          background: #fff;\r\n        }\r\n\r\n        .input:focus {\r\n          border-color: rgba(31, 182, 170, 0.65);\r\n          box-shadow: 0 0 0 4px rgba(31, 182, 170, 0.14);\r\n        }\r\n\r\n        .error {\r\n          margin: 10px 0 14px;\r\n          background: rgba(255, 0, 0, 0.06);\r\n          border: 1px solid rgba(255, 0, 0, 0.20);\r\n          padding: 10px 12px;\r\n          border-radius: 14px;\r\n          font-weight: 900;\r\n          color: #7a1d1d;\r\n        }\r\n\r\n        .primary {\r\n          width: 100%;\r\n          padding: 14px 16px;\r\n          border-radius: 18px;\r\n          border: 0;\r\n          background: #1fb6aa;\r\n          color: #fff;\r\n          font-weight: 1000;\r\n          cursor: pointer;\r\n          margin-top: 6px;\r\n          box-shadow: 0 14px 32px rgba(31, 182, 170, 0.25);\r\n        }\r\n\r\n        .primary:disabled {\r\n          opacity: 0.75;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .secondary {\r\n          width: 100%;\r\n          padding: 14px 16px;\r\n          border-radius: 18px;\r\n          border: 2px solid rgba(29, 43, 58, 0.45);\r\n          background: #fff;\r\n          color: #1d2b3a;\r\n          font-weight: 1000;\r\n          cursor: pointer;\r\n          margin-top: 12px;\r\n        }\r\n\r\n        .secondary:disabled {\r\n          opacity: 0.65;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .fineprint {\r\n          margin: 14px 2px 0;\r\n          color: rgba(29, 43, 58, 0.55);\r\n          font-weight: 700;\r\n          font-size: 12px;\r\n          line-height: 1.35;\r\n        }\r\n\r\n        .fineprint a {\r\n          color: rgba(29, 43, 58, 0.85);\r\n          text-decoration: underline;\r\n        }\r\n      `}</style>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,gNAAO,EAAC,IAAM,IAAA,8IAAiB,KAAI,EAAE;IAEtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAA+B;IAC/E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,4CAA4C;IAC5C,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO;YACX,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;YAC/C,IAAI,KAAK,OAAO,EAAE,OAAO,OAAO,CAAC;QACnC;QACA;IACF,GAAG;QAAC;QAAQ;KAAS;IAErB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QAEX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;YACvD,OAAO,MAAM,IAAI;YACjB;QACF;QAEA,WAAW;QAEX,IAAI,OAAO;YACT,SAAS,MAAM,OAAO;YACtB;QACF;QAEA,OAAO,OAAO,CAAC;IACjB;IAEA,MAAM,cAAc,OAAO;QACzB,SAAS;QACT,gBAAgB;QAEhB,iEAAiE;QACjE,MAAM,aACJ,sCAAgC,0BAA4C;QAE9E,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC;YACpD;YACA,SAAS;gBAAE;YAAW;QACxB;QAEA,gBAAgB;QAEhB,IAAI,OAAO,SAAS,MAAM,OAAO;IACjC,mCAAmC;IACrC;IAEA,qBACE,8OAAC;kDAAe;;0BACd,8OAAC;0DAAkB;;kCACjB,8OAAC;kEAAa;kCAAQ;;;;;;kCACtB,8OAAC;kEAAY;kCAAW;;;;;;kCAExB,8OAAC;kEAAc;;0CACb,8OAAC;gCAEC,MAAK;gCACL,SAAS,IAAM,YAAY;gCAC3B,UAAU,CAAC,CAAC,gBAAgB;0EAHlB;;kDAKV,8OAAC;wCAA2B,aAAW;kFAAvB;kDAAwB;;;;;;oCACvC,iBAAiB,WAAW,gBAAgB;;;;;;;0CAG/C,8OAAC;gCAEC,MAAK;gCACL,SAAS,IAAM,YAAY;gCAC3B,UAAU,CAAC,CAAC,gBAAgB;0EAHlB;;kDAKV,8OAAC;wCAA2B,aAAW;kFAAvB;kDAAwB;;;;;;oCACvC,iBAAiB,aAAa,gBAAgB;;;;;;;;;;;;;kCAInD,8OAAC;kEAAc;;0CACb,8OAAC;;;;;;;0CACD,8OAAC;;0CAAG;;;;;;0CACJ,8OAAC;;;;;;;;;;;;;kCAGH,8OAAC;kEAAgB;;4BAAQ;0CAEvB,8OAAC;gCAEC,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,aAAY;gCACZ,cAAa;gCACb,WAAU;0EALA;;;;;;;;;;;;kCASd,8OAAC;kEAAgB;;4BAAQ;0CAEvB,8OAAC;gCAEC,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,aAAY;gCACZ,MAAK;gCACL,cAAa;0EALH;;;;;;;;;;;;oBASb,sBAAQ,8OAAC;kEAAc;kCAAS;;;;;+BAAe;kCAEhD,8OAAC;wBAA2B,MAAK;wBAAS,SAAS;wBAAgB,UAAU;kEAA3D;kCACf,UAAU,gBAAgB;;;;;;kCAG7B,8OAAC;wBAEC,MAAK;wBACL,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,UAAU,WAAW,CAAC,CAAC;kEAHb;kCAIX;;;;;;kCAID,8OAAC;kEAAY;;4BAAY;0CACS,8OAAC;gCAAE,MAAK;gCAAI,SAAS,CAAC,IAAM,EAAE,cAAc;;0CAAI;;;;;;4BAAS;4BAAK;0CAC9F,8OAAC;gCAAE,MAAK;gCAAI,SAAS,CAAC,IAAM,EAAE,cAAc;;0CAAI;;;;;;4BAAkB;;;;;;;;;;;;;;;;;;;;;;;AAkL5E"}}]
}