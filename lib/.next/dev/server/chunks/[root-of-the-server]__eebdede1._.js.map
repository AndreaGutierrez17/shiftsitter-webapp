{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/app/auth/callback/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport async function GET(request: Request) {\r\n  const url = new URL(request.url);\r\n  const code = url.searchParams.get(\"code\");\r\n\r\n  // Si viene error de OAuth\r\n  const errorDesc = url.searchParams.get(\"error_description\");\r\n  if (errorDesc) {\r\n    return NextResponse.redirect(new URL(`/signup?error=${encodeURIComponent(errorDesc)}`, url.origin));\r\n  }\r\n\r\n  if (!code) {\r\n    return NextResponse.redirect(new URL(\"/signup\", url.origin));\r\n  }\r\n\r\n  const supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  );\r\n\r\n  const { error } = await supabase.auth.exchangeCodeForSession(code);\r\n\r\n  if (error) {\r\n    return NextResponse.redirect(new URL(`/signup?error=${encodeURIComponent(error.message)}`, url.origin));\r\n  }\r\n\r\n  return NextResponse.redirect(new URL(\"/families/onboarding/questions\", url.origin));\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAgB;IACxC,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,OAAO,IAAI,YAAY,CAAC,GAAG,CAAC;IAElC,0BAA0B;IAC1B,MAAM,YAAY,IAAI,YAAY,CAAC,GAAG,CAAC;IACvC,IAAI,WAAW;QACb,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE,mBAAmB,YAAY,EAAE,IAAI,MAAM;IACnG;IAEA,IAAI,CAAC,MAAM;QACT,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,WAAW,IAAI,MAAM;IAC5D;IAEA,MAAM,WAAW,IAAA,gMAAY;IAK7B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,sBAAsB,CAAC;IAE7D,IAAI,OAAO;QACT,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE,mBAAmB,MAAM,OAAO,GAAG,EAAE,IAAI,MAAM;IACvG;IAEA,OAAO,gJAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,kCAAkC,IAAI,MAAM;AACnF"}}]
}