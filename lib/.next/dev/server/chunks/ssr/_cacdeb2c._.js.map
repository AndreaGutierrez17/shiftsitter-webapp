{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/lib/supabase/client.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\n\nlet cached: SupabaseClient | null = null;\n\nexport function getSupabaseClient() {\n  if (cached) return cached;\n\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel and .env.local\"\n    );\n  }\n\n  cached = createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  });\n\n  return cached;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAgC;AAE7B,SAAS;IACd,IAAI,QAAQ,OAAO;IAEnB,MAAM;IACN,MAAM;IAEN;;IAMA,SAAS,IAAA,8LAAY,EAAC,aAAa,iBAAiB;QAClD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Carlitos%20Almaraz/Desktop/shiftsitter-web/app/signup/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport \"./signup.css\";\r\nimport { getSupabaseClient } from \"@/lib/supabase/client\";\r\n\r\nexport default function SignupPage() {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => getSupabaseClient(), []);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPass, setShowPass] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  async function handleSignup(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    if (password.length < 6) {\r\n      setError(\"Password must be at least 6 characters.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const origin =\r\n      typeof window !== \"undefined\" ? window.location.origin : \"\";\r\n\r\n    const { data, error } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n       \r\n        emailRedirectTo: `${origin}/auth/callback`,\r\n        data: {\r\n          role: \"parent\",\r\n        },\r\n      },\r\n    });\r\n\r\n    setLoading(false);\r\n\r\n    if (error) {\r\n      setError(error.message);\r\n      return;\r\n    }\r\n\r\n    // Si confirm email está ON, no habrá session aún.\r\n    if (!data.session) {\r\n      setSuccess(\"Check your email to confirm your account.\");\r\n      return;\r\n    }\r\n\r\n    router.push(\"/families/onboarding/questions\");\r\n  }\r\n\r\n  async function signInWithProvider(provider: \"google\" | \"facebook\") {\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    const origin =\r\n      typeof window !== \"undefined\" ? window.location.origin : \"\";\r\n\r\n    const { error } = await supabase.auth.signInWithOAuth({\r\n      provider,\r\n      options: {\r\n        redirectTo: `${origin}/auth/callback`,\r\n      },\r\n    });\r\n\r\n    if (error) setError(error.message);\r\n  }\r\n\r\n  return (\r\n    <main className=\"ss-auth\">\r\n      <section className=\"ss-card\">\r\n        <h1 className=\"ss-title\">Create your account</h1>\r\n        <p className=\"ss-subtitle\">\r\n          Use email/password or continue with a trusted provider.\r\n        </p>\r\n\r\n        <div className=\"ss-providerRow\">\r\n          <button\r\n            className=\"ss-providerBtn\"\r\n            type=\"button\"\r\n            onClick={() => signInWithProvider(\"google\")}\r\n          >\r\n            <span className=\"ss-providerIcon\" aria-hidden=\"true\">G</span>\r\n            Continue with Google\r\n          </button>\r\n\r\n          <button\r\n            className=\"ss-providerBtn\"\r\n            type=\"button\"\r\n            onClick={() => signInWithProvider(\"facebook\")}\r\n          >\r\n            <span className=\"ss-providerIcon\" aria-hidden=\"true\">f</span>\r\n            Continue with Facebook\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"ss-divider\">OR</div>\r\n\r\n        <form onSubmit={handleSignup}>\r\n          <label className=\"ss-label\" htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input\r\n            className=\"ss-input\"\r\n            id=\"email\"\r\n            type=\"email\"\r\n            autoComplete=\"email\"\r\n            placeholder=\"you@example.com\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n\r\n          <label className=\"ss-label\" htmlFor=\"password\">\r\n            Password\r\n          </label>\r\n\r\n          <div className=\"ss-passRow\">\r\n            <input\r\n              className=\"ss-input\"\r\n              id=\"password\"\r\n              type={showPass ? \"text\" : \"password\"}\r\n              autoComplete=\"new-password\"\r\n              placeholder=\"Minimum 6 characters\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              minLength={6}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"ss-passToggle\"\r\n              onClick={() => setShowPass((v) => !v)}\r\n              aria-label={showPass ? \"Hide password\" : \"Show password\"}\r\n            >\r\n              {showPass ? \"Hide\" : \"Show\"}\r\n            </button>\r\n          </div>\r\n\r\n          {error ? <p className=\"ss-error\">{error}</p> : null}\r\n          {success ? <p className=\"ss-success\">{success}</p> : null}\r\n\r\n          <button className=\"ss-cta\" type=\"submit\" disabled={loading}>\r\n            {loading ? \"Creating...\" : \"Create an account\"}\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}